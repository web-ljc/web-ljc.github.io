(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["qiankun-vue-app"]=t():e["qiankun-vue-app"]=t()})(self,(function(){return function(){var e={4007:function(e,t,o){"use strict";o.r(t),o.d(t,{bootstrap:function(){return X},mount:function(){return G},unmount:function(){return K}});o(8131);var l=o(9242),n=o(1347),a=(o(4415),o(3396));function r(e,t,o,l,n,r){const u=(0,a.up)("MyEditor");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(u,{modelValue:e.state,"onUpdate:modelValue":t[0]||(t[0]=t=>e.state=t),formData:e.formData},null,8,["modelValue","formData"])])}var u=o(4870),i=o(2748),s=(0,a.aZ)({props:{block:{type:Object},component:{type:Object}},emits:["update: block"],setup(e,t){const o=(0,a.Fl)({get:()=>e.block,set:e=>{t.emit("update: block",e)}}),{width:l,height:n}=e.component.resize||{};let r={left:{horizontal:"start",vertical:"center"},right:{horizontal:"end",vertical:"center"},top:{horizontal:"center",vertical:"start"},bottom:{horizontal:"center",vertical:"end"},"top-left":{horizontal:"start",vertical:"start"},"top-right":{horizontal:"end",vertical:"start"},"bottom-left":{horizontal:"start",vertical:"end"},"bottom-right":{horizontal:"end",vertical:"end"}},u={};const i=e=>{let{clientX:t,clientY:l}=e,{startX:n,startY:a,startWidth:r,startHeight:i,startLeft:s,startTop:c,direction:d}=u;"center"===d.horizontal&&(t=n),"center"===d.vertical&&(l=a);let p=t-n,m=l-a;"start"===d.vertical&&(m=-m,o.value.top=c-m),"start"===d.horizontal&&(p=-p,o.value.left=s-p);const f=r+p,v=i+m;o.value.width=f,o.value.height=v,o.value.hasResize=!0},s=()=>{document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",s)},c=e=>{e.stopPropagation();let t=e.target.className.split(" ")[1].slice(13);u={startX:e.clientX,startY:e.clientY,startWidth:o.value.width,startHeight:o.value.height,startLeft:o.value.left,startTop:o.value.top,direction:r[t]},document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",s)};return()=>(0,a.Wm)("div",{onMousedown:e=>c(e)},[l&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("div",{class:"block-resize block-resize-left"},null),(0,a.Wm)("div",{class:"block-resize block-resize-right"},null)]),n&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("div",{class:"block-resize block-resize-top"},null),(0,a.Wm)("div",{class:"block-resize block-resize-bottom"},null)]),l&&n&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("div",{class:"block-resize block-resize-top-left"},null),(0,a.Wm)("div",{class:"block-resize block-resize-top-right"},null),(0,a.Wm)("div",{class:"block-resize block-resize-bottom-left"},null),(0,a.Wm)("div",{class:"block-resize block-resize-bottom-right"},null)])])}}),c=(0,a.aZ)({props:{block:{type:Object},formData:{type:Object}},emits:["update: block","update: formData"],setup(e,t){const o=(0,a.Fl)({get:()=>e.block,set:e=>{t.emit("update: block",e)}}),l=(0,a.Fl)({get:()=>e.formData,set:e=>{t.emit("update: formData",e)}}),n=(0,a.Fl)((()=>({top:`${o.value.top}px`,left:`${o.value.left}px`,zIndex:o.value.zIndex}))),r=(0,a.f3)("config"),i=(0,u.iH)(null);return(0,a.bv)((()=>{const{offsetWidth:e,offsetHeight:t}=i.value;o.value.alginCenter&&(o.value.top=o.value.top-t/2,o.value.left=o.value.left-e/2,o.value.alginCenter=!1),o.value.width=e,o.value.height=t})),()=>{const t=r.componentMap[o.value.key],u=t.render({size:e.block.hasResize?{width:o.value.width,height:o.value.height}:{},props:o.value.props,model:Object.keys(t.model||{}).reduce(((e,t)=>{let n=o.value.model[t];return e[t]={modelValue:l.value[n],"onUpdate:modelValue":e=>l.value[n]=e},e}),{})}),{width:c,height:d}=t.resize||{};return(0,a.Wm)("div",{class:"editor-block",style:n.value,ref:i},[u,o.value.focus&&(c||d)&&(0,a.Wm)(s,{block:o.value,component:t},null)])}}}),d=o(2177),p=o.n(d);function m(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var f=(0,a.aZ)({props:{block:{type:Object},data:{type:Object},updateContainer:{type:Function},updateBlock:{type:Function}},setup(e){const t=(0,a.f3)("config"),o=(0,u.qj)({editData:{}}),l=()=>{e.block?o.editData=p()(e.block):o.editData=p()(e.data.container)},n=()=>{e.block?e.updateBlock(o.editData,e.block):e.updateContainer({...e.data,container:o.editData})};return(0,a.YP)((()=>e.block),l,{immediate:!0}),()=>{let r=[];if(e.block){let l=t.componentMap[e.block.key];l&&l.props&&r.push(Object.entries(l.props).map((([e,t])=>{let l;return(0,a.Wm)((0,a.up)("el-form-item"),{label:t.label},m(l={input:()=>(0,a.Wm)((0,a.up)("el-input"),{modelValue:o.editData.props[e],"onUpdate:modelValue":t=>o.editData.props[e]=t},null),color:()=>(0,a.Wm)((0,a.up)("el-color-picker"),{modelValue:o.editData.props[e],"onUpdate:modelValue":t=>o.editData.props[e]=t},null),select:()=>{let l;return(0,a.Wm)((0,a.up)("el-select"),{modelValue:o.editData.props[e],"onUpdate:modelValue":t=>o.editData.props[e]=t},m(l=t.options.map((e=>(0,a.Wm)((0,a.up)("el-option"),{label:e.label,value:e.value},null))))?l:{default:()=>[l]})}}[t.type]())?l:{default:()=>[l]})}))),l&&l.model&&r.push(Object.entries(l.model).map((([e,t])=>(0,a.Wm)((0,a.up)("el-form-item"),{label:t},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:o.editData.model[e],"onUpdate:modelValue":t=>o.editData.model[e]=t},null)]}))))}else r.push((0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"容器宽度"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:o.editData.width,"onUpdate:modelValue":e=>o.editData.width=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"容器高度"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:o.editData.height,"onUpdate:modelValue":e=>o.editData.height=e},null)]})]));return(0,a.Wm)((0,a.up)("el-form"),{labelPosition:"top"},{default:()=>[r,(0,a.Wm)((0,a.up)("el-form-item"),null,{default:()=>[(0,a.Wm)((0,a.up)("el-button"),{type:"primary",onClick:()=>n()},{default:()=>[(0,a.Uk)("应用")]}),(0,a.Wm)((0,a.up)("el-button"),{onClick:l},{default:()=>[(0,a.Uk)("重置")]})]})]})}}}),v=o(1373);const b=(0,v.Z)();function h(e,t){let o=null;const l=e=>{e.dataTransfer.dropEffect="move"},n=e=>{e.preventDefault()},a=e=>{e.dataTransfer.dropEffect="none"},r=e=>{const l=t.value.blocks;t.value={...t.value,blocks:[...l,{top:e.offsetY,left:e.offsetX,zIndex:1,key:o.key,alginCenter:!0,props:{},model:{}}]},o=null},u=(t,u)=>{e.value.addEventListener("dragenter",l),e.value.addEventListener("dragover",n),e.value.addEventListener("dragleave",a),e.value.addEventListener("drop",r),o=u,b.emit("start")},i=()=>{e.value.removeEventListener("dragenter",l),e.value.removeEventListener("dragover",n),e.value.removeEventListener("dragleave",a),e.value.removeEventListener("drop",r),b.emit("end")};return{dragstart:u,dragend:i}}function y(e,t,o){const l=(0,u.iH)(-1),n=(0,a.Fl)((()=>e.value.blocks[l.value])),r=(0,a.Fl)((()=>{const t=[],o=[];return e.value.blocks.forEach((e=>(e.focus?t:o).push(e))),{focus:t,unfocused:o}})),i=()=>{e.value.blocks.forEach((e=>e.focus=!1))},s=(e,n,a)=>{t.value||(e.preventDefault(),e.stopPropagation(),e.shiftKey?r.value.focus.length<=1?n.focus=!0:n.focus=!n.focus:n.focus||(i(),n.focus=!0),l.value=a,o(e))},c=()=>{t.value||(i(),l.value=-1)};return{blockMousedown:s,containerMousedown:c,clearBlockFocus:i,focusData:r,lastSelectBlock:n}}function k(e,t,o){let l={startX:0,startY:0,dragging:!1},n=(0,u.qj)({x:null,y:null});const a=n=>{const{width:a,height:u}=t.value;l={startX:n.pageX,startY:n.pageY,startLeft:t.value.left,startTop:t.value.top,dragging:!1,startPos:e.value.focus.map((({top:e,left:t})=>({top:e,left:t}))),lines:(()=>{const{unfocused:t}=e.value;let l={x:[],y:[]};return[...t,{top:0,left:0,width:o.value.container.width,height:o.value.container.height}].forEach((e=>{const{top:t,left:o,width:n,height:r}=e;l.y.push({showTop:t,top:t}),l.y.push({showTop:t,top:t-u}),l.y.push({showTop:t+r/2,top:t+r/2-u/2}),l.y.push({showTop:t+r,top:t+r}),l.y.push({showTop:t+r,top:t+r-u}),l.x.push({showLeft:o,left:o}),l.x.push({showLeft:o+n,left:o+n}),l.x.push({showLeft:o+n/2,left:o+n/2-a/2}),l.x.push({showLeft:o+n,left:o+n-a}),l.x.push({showLeft:o,left:o-a})})),l})()},document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)},r=t=>{let{pageX:o,pageY:a}=t;l.dragging||(l.dragging=!0,b.emit("start"));let r=o-l.startX+l.startLeft,u=a-l.startY+l.startTop,i=null,s=null;for(let e=0;e<l.lines.y.length;e++){const{top:t,showTop:o}=l.lines.y[e];if(Math.abs(t-u)<5){i=o,a=l.startY-l.startTop+t;break}}for(let e=0;e<l.lines.x.length;e++){const{left:t,showLeft:n}=l.lines.x[e];if(Math.abs(t-r)<5){s=n,o=l.startX-l.startLeft+t;break}}n.x=s,n.y=i;let c=o-l.startX,d=a-l.startY;e.value.focus.forEach(((e,t)=>{e.top=l.startPos[t].top+d,e.left=l.startPos[t].left+c}))},i=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),n.x=null,n.y=null,l.dragging&&b.emit("end")};return{mousedown:a,markLine:n}}function g(e,t){const o={current:-1,queue:[],commands:{},commandArray:[],destroyArray:[]},l=e=>{o.commandArray.push(e),o.commands[e.name]=(...t)=>{const{redo:l,undo:n}=e.execute(...t);if(l(),!e.pushQueue)return;let{queue:a,current:r}=o;a.length>0&&(a=a.slice(0,r+1),o.queue=a),a.push({redo:l,undo:n}),o.current=r+1,console.log(a)}};l({name:"redo",keyboard:"ctrl+y",execute(){return{redo(){let e=o.queue[o.current+1];e&&(e.redo&&e.redo(),o.current++)}}}}),l({name:"undo",keyboard:"ctrl+z",execute(){return{redo(){if(-1===o.current)return;let e=o.queue[o.current];e&&(e.undo&&e.undo(),o.current--)}}}}),l({name:"drag",pushQueue:!0,init(){this.before=null;const t=()=>this.before=p()(e.value.blocks),l=()=>o.commands.drag();return b.on("start",t),b.on("end",l),()=>{b.off("start",t),b.off("end",l)}},execute(){let t=this.before,o=e.value.blocks;return{redo(){e.value={...e.value,blocks:o}},undo(){e.value={...e.value,blocks:t}}}}}),l({name:"updateContainer",pushQueue:!0,execute(t){let o={before:e.value,after:t};return{redo:()=>{e.value=o.after},undo:()=>{e.value=o.before}}}}),l({name:"placeTop",pushQueue:!0,execute(){let o=p()(e.value.blocks),l=(()=>{let{focus:o,unfocused:l}=t.value,n=l.reduce(((e,t)=>Math.max(e,t.zIndex)),-1/0);return o.forEach((e=>e.zIndex=n+1)),e.value.blocks})();return{undo:()=>{e.value={...e.value,blocks:o}},redo:()=>{e.value={...e.value,blocks:l}}}}}),l({name:"placeBottom",pushQueue:!0,execute(){let o=p()(e.value.blocks),l=(()=>{let{focus:o,unfocused:l}=t.value,n=l.reduce(((e,t)=>Math.min(e,t.zIndex)),1/0)-1;if(n<0){const e=Math.abs(n);n=0,l.forEach((t=>t.zIndex+=e))}return o.forEach((e=>e.zIndex=n)),e.value.blocks})();return{undo:()=>{e.value={...e.value,blocks:o}},redo:()=>{e.value={...e.value,blocks:l}}}}}),l({name:"delete",pushQueue:!0,execute(){let o={before:p()(e.value.blocks),after:t.value.unfocused};return{undo:()=>{e.value={...e.value,blocks:o.before}},redo:()=>{e.value={...e.value,blocks:o.after}}}}}),l({name:"updateBlock",pushQueue:!0,execute(t,o){let l={before:e.value.blocks,after:(()=>{let l=[...e.value.blocks];const n=e.value.blocks.indexOf(o);return n>-1&&l.splice(n,1,t),l})()};return{redo:()=>{e.value={...e.value,blocks:l.after}},undo:()=>{e.value={...e.value,blocks:l.before}}}}});const n=(()=>{const e={90:"z",89:"y"},t=t=>{const{ctrlKey:l,keyCode:n}=t;let a=[];l&&a.push("ctrl"),a.push(e[n]),a=a.join("+"),o.commandArray.forEach((({keyboard:e,name:l})=>{e&&e===a&&(o.commands[l](),t.preventDefault())}))},l=()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)});return l})();return(()=>{o.destroyArray.push(n()),o.commandArray.forEach((e=>e.init&&o.destroyArray.push(e.init())))})(),(0,a.Ah)((()=>{o.destroyArray.forEach((e=>e&&e()))})),o}var w=o(9613),W=o(254),x=o(6630);const z=(0,a.aZ)({props:{option:{type:Object}},setup(e,t){const o=(0,u.qj)({option:e.option,isShow:!1});t.expose({showDialog(e){o.option=e,o.isShow=!0}});const l=()=>{o.isShow=!1},n=()=>{o.isShow=!1,o.option.onConfirm&&o.option.onConfirm(o.option.content)};return()=>(0,a.Wm)(w.d0,{modelValue:o.isShow,"onUpdate:modelValue":e=>o.isShow=e,title:o.option.title},{default:()=>(0,a.Wm)(W.EZ,{type:"textarea",modelValue:o.option.content,"onUpdate:modelValue":e=>o.option.content=e,rows:10},null),footer:()=>o.option.footer&&(0,a.Wm)("div",null,[(0,a.Wm)(x.mi,{onClick:l},{default:()=>[(0,a.Uk)("取消")]}),(0,a.Wm)(x.mi,{type:"primary",onClick:n},{default:()=>[(0,a.Uk)("确定")]})])})}});let D;function E(e){if(!D){let t=document.createElement("div");D=(0,a.Wm)(z,{option:e}),document.body.appendChild(((0,l.sY)(D,t),t))}let{showDialog:t}=D.component.exposed;t(e)}const O=(0,a.aZ)({props:{label:String,icon:Object},setup(e){let t=(0,a.f3)("hide");return()=>(0,a.Wm)("div",{class:"dropdown-item",onClick:t},[e.icon,(0,a.Wm)("span",null,[e.label])])}}),_=(0,a.aZ)({props:{option:{type:Object}},setup(e,t){const o=(0,u.qj)({option:e.option,isShow:!1,top:0,left:0});t.expose({showDropdown(e){o.option=e,o.isShow=!0;let{top:t,left:l,height:n}=e.el.getBoundingClientRect();o.top=t+n,o.left=l}}),(0,a.JJ)("hide",(()=>o.isShow=!1));const l=(0,a.Fl)((()=>["dropdown",{"dropdown-isShow":o.isShow}])),n=(0,a.Fl)((()=>({top:o.top+"px",left:o.left+"px",zIndex:1e4}))),r=(0,u.iH)(null),i=e=>{r.value.contains(e.target)||(o.isShow=!1)};return(0,a.bv)((()=>{document.body.addEventListener("mousedown",i,!0)})),(0,a.Jd)((()=>{document.body.removeEventListener("mousedown",i)})),()=>(0,a.Wm)("div",{class:l.value,style:n.value,ref:r},[o.option.content()])}});let j;function L(e){if(!j){let t=document.createElement("div");j=(0,a.Wm)(_,{option:e}),document.body.appendChild(((0,l.sY)(j,t),t))}let{showDropdown:t}=j.component.exposed;t(e)}function C(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var S=(0,a.aZ)({props:{modelValue:{type:Object},formData:{type:Object}},emits:["update:modelValue"],setup(e,t){const o=(0,u.iH)(!1),l=(0,u.iH)(!0),n=(0,a.Fl)({get(){return e.modelValue},set(e){t.emit("update:modelValue",p()(e))}}),r=(0,a.Fl)((()=>({width:n.value.container.width+"px",height:n.value.container.height+"px"}))),s=(0,a.f3)("config"),d=(0,u.iH)(null),{dragstart:m,dragend:v}=h(d,n),{blockMousedown:b,containerMousedown:w,focusData:W,lastSelectBlock:x,clearBlockFocus:z}=y(n,o,(e=>{D(e)})),{mousedown:D,markLine:_}=k(W,x,n),{commands:j}=g(n,W),S=[{label:"撤销",icon:(0,a.Wm)(i.BAP,null,null),handler:()=>j.undo()},{label:"还原",icon:(0,a.Wm)(i.tsQ,null,null),handler:()=>j.redo()},{label:"导出",icon:(0,a.Wm)(i.gqx,null,null),handler:()=>{E({title:"导出json使用",content:JSON.stringify(n.value),footer:!0})}},{label:"导入",icon:(0,a.Wm)(i.UWx,null,null),handler:()=>{E({title:"导入json使用",content:"",footer:!0,onConfirm(e){j.updateContainer(JSON.parse(e))}})}},{label:"置顶",icon:(0,a.Wm)(i.Ncu,null,null),handler:()=>j.placeTop()},{label:"置底",icon:(0,a.Wm)(i.laI,null,null),handler:()=>j.placeBottom()},{label:"删除",icon:(0,a.Wm)(i.HG3,null,null),handler:()=>j.delete()},{label:()=>o.value?"编辑":"预览",icon:()=>o.value?(0,a.Wm)(i.caK,null,null):(0,a.Wm)(i.G7x,null,null),handler:()=>{o.value=!o.value,z()}},{label:"关闭",icon:(0,a.Wm)(i.q6s,null,null),handler:()=>{l.value=!1,z()}}],U=(e,t)=>{e.preventDefault(),L({el:e.target,content:()=>(0,a.Wm)(a.HY,null,[(0,a.Wm)(O,{label:"删除",icon:(0,a.Wm)(i.HG3,{style:"width: 1rem"},null),onClick:()=>j.delete()},null),(0,a.Wm)(O,{label:"置顶",icon:(0,a.Wm)(i.Ncu,{style:"width: 1rem"},null),onClick:()=>j.placeTop()},null),(0,a.Wm)(O,{label:"置底",icon:(0,a.Wm)(i.laI,{style:"width: 1rem"},null),onClick:()=>j.placeBottom()},null),(0,a.Wm)(O,{label:"查看",icon:(0,a.Wm)(i.G7x,{style:"width: 1rem"},null),onClick:()=>{E({title:"查看节点数据",content:JSON.stringify(t)})}},null),(0,a.Wm)(O,{label:"导入",icon:(0,a.Wm)(i.UWx,{style:"width: 1rem"},null),onClick:()=>{E({title:"导入节点数据",content:"",footer:!0,onConfirm(e){j.updateBlock(JSON.parse(e),t)}})}},null)])})};return()=>{let t;return l.value?(0,a.Wm)("div",{class:"app editor"},[(0,a.Wm)("div",{class:"editor-left"},[s.componentList.map((e=>(0,a.Wm)("div",{class:"editor-left-item",draggable:!0,onDragstart:t=>m(t,e),onDragend:v},[(0,a.Wm)("span",null,[e.label]),e.preview()])))]),(0,a.Wm)("div",{class:"editor-center"},[(0,a.Wm)("div",{class:"editor-top"},[(0,a.Wm)((0,a.up)("el-button-group"),null,C(t=S.map(((e,t)=>{const o="function"===typeof e.label?e.label():e.label,l="function"===typeof e.icon?e.icon():e.icon;return(0,a.Wm)((0,a.up)("el-button"),{type:"primary",icon:l,key:t,onClick:e.handler},{default:()=>[(0,a.Wm)("span",null,[o])]})})))?t:{default:()=>[t]})]),(0,a.Wm)("div",{class:"editor-container"},[(0,a.Wm)("div",{class:"editor-container-canvas"},[(0,a.Wm)("div",{class:"editor-container-canvas_content",style:r.value,ref:d,onMousedown:w},[n.value.blocks.map(((t,l)=>(0,a.Wm)(c,{class:[t.focus?"editor-block-focus":"",o.value?"editor-block-preview":""],block:t,"onUpdate:block":e=>t=e,formData:e.formData,onMousedown:e=>b(e,t,l),onContextmenu:e=>U(e,t)},null))),null!==_.x&&(0,a.Wm)("div",{class:"line-x",style:{left:_.x+"px"}},null),null!==_.y&&(0,a.Wm)("div",{class:"line-y",style:{top:_.y+"px"}},null)])])])]),(0,a.Wm)("div",{class:"editor-right"},[(0,a.Wm)(f,{block:x.value,data:n.value,updateContainer:j.updateContainer,updateBlock:j.updateBlock},null)])]):(0,a.Wm)(a.HY,null,[(0,a.Wm)("div",{class:"editor-container-canvas_content2",style:r.value},[n.value.blocks.map((t=>(0,a.Wm)(c,{class:"editor-block-preview",block:t,"onUpdate:block":e=>t=e,formData:e.formData},null)))]),(0,a.Wm)((0,a.up)("el-button"),{type:"primary",onClick:()=>l.value=!0},{default:()=>[(0,a.Uk)("继续编辑")]}),JSON.stringify(e.formData)])}}}),U=(0,a.aZ)({props:{start:{type:Number},end:{type:Number}},emits:["update:start","update:end"],setup(e,t){const o=(0,a.Fl)({get(){return e.start},set(e){t.emit("update:start",e)}}),n=(0,a.Fl)({get(){return e.end},set(e){t.emit("update:end",e)}});return()=>(0,a.Wm)("div",{class:"range"},[(0,a.wy)((0,a.Wm)("input",{type:"text","onUpdate:modelValue":e=>o.value=e},null),[[l.nr,o.value]]),(0,a.Wm)("span",null,[(0,a.Uk)("~")]),(0,a.wy)((0,a.Wm)("input",{type:"text","onUpdate:modelValue":e=>n.value=e},null),[[l.nr,n.value]])])}});function V(){const e=[],t={};return{componentList:e,componentMap:t,register:o=>{e.push(o),t[o.key]=o}}}const Y=V(),T=e=>({type:"input",label:e}),H=e=>({type:"color",label:e}),I=(e,t)=>({type:"select",label:e,options:t});Y.register({label:"文本",preview:()=>"预览文本",render:({props:e})=>(0,a.Wm)("span",{style:{color:e.color,fontSize:e.size}},[e.text||"渲染文本"]),key:"text",props:{text:T("文本内容"),color:H("字体颜色"),size:I("字体大小",[{label:"14px",value:"14px"},{label:"24px",value:"24px"},{label:"34px",value:"34px"}])}}),Y.register({label:"按钮",resize:{width:!0,height:!0},preview:()=>(0,a.Wm)((0,a.up)("el-button"),null,{default:()=>[(0,a.Uk)("预览按钮")]}),render:({props:e,size:t})=>(0,a.Wm)((0,a.up)("el-button"),{style:{height:t.height+"px",width:t.width+"px"},type:e.type,size:e.size},{default:()=>[e.text||"渲染按钮"]}),key:"button",props:{text:T("按钮内容"),type:I("按钮类型",[{label:"基础",value:"primary"},{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"文本",value:"text"}]),size:I("按钮尺寸",[{label:"默认",value:"default"},{label:"大",value:"large"},{label:"小",value:"small"}])}}),Y.register({label:"输入框",resize:{width:!0},preview:()=>(0,a.Wm)((0,a.up)("el-input"),{placeholder:"预览输入框"},null),render:({model:e,size:t})=>(0,a.Wm)((0,a.up)("el-input"),(0,a.dG)({placeholder:"渲染输入框"},e.default,{style:{width:t.width+"px"}}),null),key:"input",model:{default:"绑定字段"}}),Y.register({label:"范围选择器",preview:()=>(0,a.Wm)(U,{placeholder:"预览输入框"},null),render:({model:e})=>(console.log(e,9),(0,a.Wm)(U,{start:e.start.modelValue,end:e.end.modelValue,"onUpdate:start":e.start["onUpdate:modelValue"],"onUpdate:end":e.end["onUpdate:modelValue"]},null)),key:"range",model:{start:"开始范围字段",end:"结束范围字段"}});var M=(0,a.aZ)({name:"App",components:{MyEditor:S},setup(){const e=o(8451),t=(0,u.iH)(e);(0,a.JJ)("config",Y);const l=(0,u.iH)({username:"test",password:123,start:0,end:100});return{state:t,formData:l}}}),B=o(89);const N=(0,B.Z)(M,[["render",r],["__scopeId","data-v-22939d55"]]);var P=N,A=o(678);const F=[],q=(0,A.p7)({history:(0,A.PO)(window.__POWERED_BY_QIANKUN__?"/vue3":"/"),routes:F});var Z=q;let J=null;function Q(e={}){const{container:t}=e;J=(0,l.ri)(P),J.use(Z),J.use(n.Z),J.mount(t?t.querySelector("#app"):"#app")}async function X(){console.log("[vue] vue app bootstraped")}async function G(e){console.log("[vue] props from main framework",e),Q(e),J.config.globalProperties.$onGlobalStateChange=e.onGlobalStateChange,J.config.globalProperties.$setGlobalState=e.setGlobalState}async function K(){J.unmount(),J._container.innerHTML="",J=null}window.__POWERED_BY_QIANKUN__||Q()},8131:function(e,t,o){window.__POWERED_BY_QIANKUN__&&(o.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)},8451:function(e){"use strict";e.exports=JSON.parse('{"container":{"width":550,"height":550},"blocks":[{"top":100,"left":100,"zIndex":1,"key":"text","props":{"text":"测试文本内容","color":"#ff0000","size":"14px"}},{"top":200,"left":200,"zIndex":1,"key":"button","props":{"text":"自定义按钮","type":"primary","size":"small"}},{"top":300,"left":300,"zIndex":1,"key":"input","props":{},"model":{}}]}')}},t={};function o(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,l,n,a){if(!l){var r=1/0;for(c=0;c<e.length;c++){l=e[c][0],n=e[c][1],a=e[c][2];for(var u=!0,i=0;i<l.length;i++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](l[i])}))?l.splice(i--,1):(u=!1,a<r&&(r=a));if(u){e.splice(c--,1);var s=n();void 0!==s&&(t=s)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/vue/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,a,r=l[0],u=l[1],i=l[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(n in u)o.o(u,n)&&(o.m[n]=u[n]);if(i)var c=i(o)}for(t&&t(l);s<r.length;s++)a=r[s],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},l=self["webpackChunkqiankun_vue_"]=self["webpackChunkqiankun_vue_"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(4007)}));return l=o.O(l),l}()}));