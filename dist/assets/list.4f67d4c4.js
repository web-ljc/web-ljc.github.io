var B=Object.defineProperty,N=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var h=(e,t,a)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,f=(e,t)=>{for(var a in t||(t={}))D.call(t,a)&&h(e,a,t[a]);if(m)for(var a of m(t))I.call(t,a)&&h(e,a,t[a]);return e},y=(e,t)=>N(e,w(t));import{r as d,o as c,e as b,i as n,G as U,n as E,u as L,H as Q,j as V,d as s,I as v,c as $,J as j,M,K as R,k as _}from"./vendor.2cb241fc.js";import{_ as C}from"./index.ec7e3197.js";import{u as q}from"./userModel.96b4559b.js";import"./request.df1cff29.js";const A={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},emits:["update:page","update:limit","pagination"],computed:{currentPage:{get(){return this.page},set(e){this.$emit("update:page",e)}},pageSize:{get(){return this.limit},set(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange(e){this.$emit("pagination",{page:this.currentPage,limit:e})},handleCurrentChange(e){this.$emit("pagination",{page:e,limit:this.pageSize})}}};function G(e,t,a,r,g,i){const o=d("el-pagination");return c(),b("div",{class:E([{hidden:a.hidden},"pagination-container"])},[n(o,U({background:a.background,"current-page":i.currentPage,"onUpdate:current-page":t[0]||(t[0]=u=>i.currentPage=u),"page-size":i.pageSize,"onUpdate:page-size":t[1]||(t[1]=u=>i.pageSize=u),layout:a.layout,"page-sizes":a.pageSizes,total:a.total},e.$attrs,{onSizeChange:i.handleSizeChange,onCurrentChange:i.handleCurrentChange}),null,16,["background","current-page","page-size","layout","page-sizes","total","onSizeChange","onCurrentChange"])],2)}var H=C(A,[["render",G],["__scopeId","data-v-994b68f4"]]);const J={name:"UserList",components:{Pagination:H},setup(){const e=L(),{state:t,getList:a,delItem:r}=q();function g({row:o}){e.push({name:"userEdit",params:{id:o.id}})}function i({row:o}){r(o.id).then(()=>{M.success("\u5220\u9664\u6210\u529F\uFF01")})}return y(f({},Q(t)),{getList:a,handleEdit:g,handleDelete:i})}},K={class:"app-container"},T={class:"btn-container"},x=_("\u521B\u5EFA\u7528\u6237"),F=_("\u66F4\u65B0"),O=_("\u5220\u9664");function W(e,t,a,r,g,i){const o=d("el-button"),u=d("router-link"),p=d("el-table-column"),z=d("el-table"),k=d("pagination"),S=R("loading");return c(),b("div",K,[V("div",T,[n(u,{to:"/users/create"},{default:s(()=>[n(o,{type:"success",icon:"el-icon-edit"},{default:s(()=>[x]),_:1})]),_:1})]),v((c(),$(z,{data:e.list,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:s(()=>[n(p,{align:"center",label:"ID",prop:"id"}),n(p,{align:"center",label:"\u8D26\u6237\u540D",prop:"name"}),n(p,{align:"center",label:"\u5E74\u9F84",prop:"age"}),n(p,{label:"\u64CD\u4F5C",align:"center"},{default:s(l=>[n(o,{type:"primary",icon:"el-icon-edit",onClick:P=>r.handleEdit(l)},{default:s(()=>[F]),_:2},1032,["onClick"]),n(o,{type:"danger",icon:"el-icon-remove",onClick:P=>r.handleDelete(l)},{default:s(()=>[O]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[S,e.loading]]),v(n(k,{total:e.total,page:e.listQuery.page,"onUpdate:page":t[0]||(t[0]=l=>e.listQuery.page=l),limit:e.listQuery.limit,"onUpdate:limit":t[1]||(t[1]=l=>e.listQuery.limit=l),onPagination:r.getList},null,8,["total","page","limit","onPagination"]),[[j,e.total>0]])])}var ae=C(J,[["render",W],["__scopeId","data-v-0043c1c2"]]);export{ae as default};
